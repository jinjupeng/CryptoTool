# RSA格式转换功能说明

## 新增功能
本次更新为CryptoTool工具新增了"RSA格式转换"Tab页，提供专门的RSA密钥格式转换功能。

## 功能特性

### 1. 从文件中读取密钥
- 支持多种文件格式：*.txt、*.key、*.pem、*.pub
- 自动检测密钥类型（公钥/私钥）
- 自动检测密钥格式（PEM/Base64/Hex）
- 自动检测密钥标准（PKCS#1/PKCS#8）

### 2. 密钥格式转换
- **输入支持**：
  - 密钥类型：PKCS#1、PKCS#8
  - 密钥格式：PEM、Base64、Hex
  - 密钥种类：公钥、私钥
- **输出支持**：
  - 密钥类型：PKCS#1、PKCS#8
  - 密钥格式：PEM、Base64、Hex

### 3. 从私钥提取公钥
- 从任何格式的私钥中提取对应的公钥
- 支持跨格式提取（如从PKCS#1私钥提取PKCS#8公钥）
- 自动验证提取的密钥对一致性

### 4. 密钥对一致性验证
- 验证公钥和私钥是否匹配
- 通过加解密测试确保密钥对有效性
- 实时显示验证结果

### 5. 结果保存和导出
- 保存转换结果到文件
- 支持复制到剪贴板
- 根据输出格式自动选择合适的文件扩展名

### 6. 自适应界面
- 窗体支持自由放大缩小
- 所有控件使用TableLayout自适应布局
- 最小窗口尺寸限制确保用户体验

## 使用方法

1. **导入密钥**：
   - 点击"从文件导入"按钮选择密钥文件
   - 或直接在文本框中粘贴密钥内容
   - 工具会自动检测密钥类型和格式

2. **格式转换**：
   - 选择输入密钥的类型和格式
   - 选择输出密钥的类型和格式
   - 点击"转换"按钮

3. **提取公钥**：
   - 导入私钥
   - 点击"从私钥提取公钥"按钮
   - 系统会自动提取公钥并显示在输出区域

4. **验证密钥对**：
   - 导入公钥和私钥后
   - 点击"密钥对验证"按钮
   - 验证结果会在底部显示

5. **保存结果**：
   - 点击"保存到文件"将结果保存到文件
   - 或点击"复制到剪贴板"复制结果

## 技术特性

- 基于BouncyCastle加密库
- 支持RSA 1024/2048/4096位密钥
- 完整的错误处理和用户提示
- 智能化的密钥格式自动检测
- 跨平台兼容性（.NET 8）

## 文件结构

```
CryptoTool.Win/
├── RSAConvertTabControl.cs              # 主要功能实现
├── RSAConvertTabControl.Designer.cs     # UI设计器代码
├── MainForm.cs                          # 主窗体（已更新）
└── MainForm.Designer.cs                 # 主窗体设计器（已更新）
```

## 注意事项

- 密钥内容会自动验证，无效密钥会提示错误
- 转换过程中会保持密钥的数学特性不变
- 支持中文界面和错误提示
- 所有操作都有相应的状态提示