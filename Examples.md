# CryptoTool 使用示例

## 示例1：RSA基本加解密

### 步骤1：生成密钥对
- 密钥长度：2048
- 密钥格式：XML
- 点击"生成密钥对"

### 步骤2：加密数据
- 明文：`Hello, World! 这是一个RSA加密测试。`
- 使用生成的公钥进行加密
- 得到Base64编码的密文

### 步骤3：解密数据
- 将密文复制到密文框
- 使用对应的私钥进行解密
- 还原原始明文

## 示例2：RSA数字签名

### 步骤1：准备数据
- 签名类型：RSA2 (SHA256)
- 原文数据：`这是需要签名的重要文档内容`
- 使用私钥进行签名

### 步骤2：验证签名
- 原文数据保持不变
- 使用对应的公钥验证签名
- 检查验签结果

## 示例3：SM4 ECB模式加密

### 步骤1：生成密钥
- 点击"生成密钥"得到SM4密钥
- 示例密钥：`1234567890123456`（Base64编码）

### 步骤2：ECB加密
- 加密模式：ECB
- 填充模式：PKCS7
- 明文：`SM4国密算法加密测试数据`
- 执行加密操作

### 步骤3：ECB解密
- 使用相同的密钥和参数设置
- 输入密文进行解密
- 验证解密结果

## 示例4：SM4 CBC模式加密

### 步骤1：准备密钥和向量
- 生成SM4密钥
- 生成初始向量（CBC模式必需）

### 步骤2：CBC加密
- 加密模式：CBC
- 填充模式：PKCS7
- 明文：`使用CBC模式的SM4加密`
- 执行加密操作

### 步骤3：CBC解密
- 使用相同的密钥、初始向量和参数
- 解密得到原始明文

## 示例5：跨平台密钥格式转换

### Java格式RSA密钥示例
```java
// Java端生成的公钥（PKCS8格式）
String javaPublicKey = "MIIBIjANBgkqhkiG9w0BAQEFAAOCAQ8AMI...";

// 在工具中选择"Java"格式，粘贴密钥后可直接使用
```

### PKCS1格式RSA密钥示例
```pem
-----BEGIN RSA PUBLIC KEY-----
MIIBCgKCAQEA2Z8QX1vkKQh5...
-----END RSA PUBLIC KEY-----
```

## 常见问题解决

### 问题1：RSA加密失败
**错误信息**：数据长度超出限制
**解决方案**：
- RSA加密有长度限制
- 2048位密钥最多加密245字节数据
- 对于大数据，建议先用SM4加密，再用RSA加密SM4密钥

### 问题2：SM4解密失败
**错误信息**：填充无效
**解决方案**：
- 检查加密和解密使用的填充模式是否一致
- 检查密钥是否正确
- CBC模式还需检查初始向量

### 问题3：验签失败
**错误信息**：验证失败
**解决方案**：
- 确认使用正确的公钥
- 检查签名类型（RSA/RSA2）是否匹配
- 确保原文数据完全一致，没有多余空格或换行

## 实际应用场景

### 场景1：API接口签名验证
1. 使用RSA2算法对请求参数进行签名
2. 服务端使用公钥验证签名有效性
3. 确保API调用的安全性

### 场景2：敏感配置加密
1. 使用SM4对配置文件中的敏感信息加密
2. 应用程序启动时解密配置
3. 保护数据库密码、API密钥等信息

### 场景3：文件完整性校验
1. 对重要文件使用RSA进行数字签名
2. 文件传输后验证签名
3. 确保文件未被篡改

### 场景4：混合加密方案
1. 使用SM4加密大量数据（对称加密速度快）
2. 使用RSA加密SM4密钥（保护密钥安全）
3. 实现既安全又高效的加密方案

## 性能参考

### RSA性能（2048位密钥）
- 密钥生成：约100-500ms
- 加密：约1-5ms（小数据）
- 解密：约10-50ms
- 签名：约10-50ms
- 验签：约1-5ms

### SM4性能
- 密钥生成：约1ms
- 加密/解密：约0.1-1ms/KB

*注：性能数据仅供参考，实际性能取决于硬件配置和数据大小*