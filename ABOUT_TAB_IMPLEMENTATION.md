# CryptoTool 关于页面与自动更新功能实现说明

## 概述

本次更新为 CryptoTool 加解密工具添加了"关于"页面，包含软件信息展示和自动更新功能。

## 新增功能

### 1. 关于页面 (AboutTabControl)

#### 软件信息区域
- **软件名称**: 显示应用程序名称
- **软件版本**: 显示当前版本号（从程序集中自动获取）
- **软件作者**: 显示作者信息
- **软件描述**: 显示软件功能描述
- **代码仓库**: 可点击的链接，直接跳转到 GitHub 仓库
- **软件许可**: 显示许可证信息

#### 自动更新区域
- **当前版本**: 显示本地安装的版本
- **最新版本**: 从 GitHub 获取的最新版本
- **更新状态**: 显示检查更新的状态信息
- **检查更新按钮**: 主动检查是否有新版本
- **下载更新按钮**: 下载并安装最新版本
- **进度条**: 显示下载进度

#### 系统信息区域
- **操作系统**: 显示当前操作系统信息
- **.NET框架版本**: 显示运行时版本
- **安装路径**: 显示软件安装目录

### 2. 自动更新功能

#### 技术实现
- 使用 **Octokit** NuGet 包访问 GitHub API
- 支持从 `https://github.com/jinjupeng/CryptoTool` 仓库获取最新版本
- 自动比较版本号并提示用户是否需要更新
- 支持下载 `.exe` 和 `.msi` 格式的安装包

#### 更新流程
1. 点击"检查更新"按钮
2. 程序访问 GitHub API 获取最新版本信息
3. 比较本地版本与最新版本
4. 如发现新版本，启用"下载更新"按钮
5. 用户点击下载后，程序自动下载安装包到临时目录
6. 显示下载进度
7. 下载完成后询问用户是否立即安装
8. 如选择安装，程序启动安装包并关闭自己

#### 错误处理
- GitHub API 访问限制提示
- 网络错误处理
- 下载失败后自动清理临时文件
- 版本比较异常处理

### 3. 界面集成

- 在主窗口 TabControl 中新增"关于"选项卡
- 采用与其他页面一致的设计风格
- 支持响应式布局，适应不同窗口大小

## 文件结构

### 新增文件
```
CryptoTool.Win/
├── AboutTabControl.cs          # 关于页面逻辑代码
├── AboutTabControl.Designer.cs # 关于页面界面设计
```

### 修改文件
```
CryptoTool.Win/
├── MainForm.cs                 # 主窗体逻辑（添加关于页面初始化）
├── MainForm.Designer.cs        # 主窗体设计（添加关于选项卡）
├── CryptoTool.Win.csproj       # 项目文件（添加 Octokit 依赖和版本信息）
```

## 依赖包

- **Octokit v14.0.0**: 用于访问 GitHub API

## 配置信息

### 版本信息
项目文件中已配置版本信息：
- Version: 1.0.0
- AssemblyVersion: 1.0.0.0
- FileVersion: 1.0.0.0

### GitHub 仓库配置
- Repository Owner: `jinjupeng`
- Repository Name: `CryptoTool`
- Repository URL: `https://github.com/jinjupeng/CryptoTool`

## 使用说明

### 检查更新
1. 打开软件，切换到"关于"选项卡
2. 点击"检查更新"按钮
3. 等待程序检查最新版本
4. 根据提示进行后续操作

### 下载更新
1. 在检查到新版本后，"下载更新"按钮会被启用
2. 点击"下载更新"开始下载
3. 下载过程中会显示进度条
4. 下载完成后选择是否立即安装

## 注意事项

1. **网络连接**: 自动更新功能需要网络连接来访问 GitHub API
2. **GitHub API 限制**: 未认证用户每小时限制 60 次 API 调用
3. **安装包格式**: 目前支持 `.exe` 和 `.msi` 格式的安装包
4. **版本号格式**: 支持标准的版本号格式（如 v1.0.0、1.0.0 等）
5. **权限要求**: 安装更新可能需要管理员权限

## 扩展建议

1. 可以添加 GitHub Token 认证来提高 API 调用限制
2. 可以添加更新日志显示功能
3. 可以支持增量更新或差分更新
4. 可以添加自动检查更新的定时功能
5. 可以添加更新渠道选择（稳定版/测试版）

## 技术特点

- **异步操作**: 所有网络请求都使用异步方法，避免界面卡顿
- **进度反馈**: 提供详细的状态信息和下载进度反馈
- **错误处理**: 完善的异常处理机制
- **资源管理**: 正确的资源释放和内存管理
- **用户体验**: 友好的用户界面和操作流程

通过这次更新，CryptoTool 具备了完整的软件信息展示和自动更新能力，提升了用户体验和软件的可维护性。